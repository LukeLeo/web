#-----Ignore everything
#-----including katas (data-container / volume-mounted)
#-----including public (nginx image)

*

#-----!Except these folders

!app/assets
!app/controllers
!app/helpers
!app/lib
!app/models
!app/views
!script
!config
!lib
!test

#-----!Except these _empty_ folders
!caches
caches/*

!app/downloads
app/downloads/*

#-----!Except these files

# {bundle install} in web's Dockerfile (inside Travis pipeline) needs this but _not_
# Gemfile.lock which is for the local server and not for the server running inside web container
!Gemfile

# {rails server} in web's docker-compose.yml needs this
!config.ru

# {cyber-dojo update} copies these out of web container
!app/docker/cyber-dojo.sh
!app/docker/docker-compose.yml

# {cyber-dojo.sh} copies these out of web container to make katas data-container
!app/docker/katas/Dockerfile.copied
!app/docker/katas/Dockerfile.empty
!app/docker/katas/Dockerignore.copied
!app/docker/katas/Dockerignore.empty

# {cyber-dojo.sh} delegates to this inside web container
!app/docker/cyber-dojo.rb
